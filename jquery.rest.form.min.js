/*!
 jquery rest form plugin
 =======================

 ## About
 jQuery Form PluginをRESTfulなURLに対応させるためのラッパープラグインです。

 ## jQuery Form Plugin
 http://malsup.com/jquery/form/

 ## Required
 * jQuery(Recommende higher version)
 * jQuery Form Plugin

 ## Usage
 urlに[:(param_name)]と入れると該当パラメータに置換します。
 ex: /user/:user_name -> /user/hoge

 ## License
 licensed under MIT
 */
(function(n){"use strict";var t=/:((?:\w)+)/g;n.fn.restForm=function(t){this.ajaxFormUnbind().on("submit.form-plugin",function(i){i.isDefaultPrevented()||(i.preventDefault(),n(this).restSubmit(t))})},n.fn.restSubmit=function(i){var u=this,r=n(u),f=i.url||r.attr("action"),e=n.extend({},i,{url:f.replace(t,function(n,t){var u=t,i=r.formToArray().filter(function(n){return n.name===u})[0];return i==null?n:i.value}),beforeSubmit:function(r){var s=f.match(t),h;if(s!=null)return(h=s.map(function(n){return n.replace(t,"$1")}),r.filter(function(n){return h.indexOf(n.name)>-1}).forEach(function(n){var t=r.indexOf(n);r.splice(t,1)}),n.isFunction(i.beforeSubmit)===!1)?void 0:i.beforeSubmit.apply(u,arguments)},success:function(){r.trigger("success",arguments),n.isFunction(i.success)&&i.success.apply(this,arguments)},error:function(){r.trigger("error",arguments),n.isFunction(i.error)&&i.error.apply(this,arguments)},complete:function(){r.trigger("complete",arguments),n.isFunction(i.complete)&&i.complete.apply(this,arguments)}});n(this).ajaxSubmit(e)}})(jQuery)