/*!
 jquery rest form plugin
 =======================

 ## About
 jQuery Form PluginをrestfulなURLに対応させるためのラッパープラグインです。

 ## jQuery Form Plugin
 http://malsup.com/jquery/form/

 ## Required
 * jQuery(Recommende higher version)
 * jQuery Form Plugin

 ## Usage
 urlに[:(param_name)]と入れると該当パラメータに置換します。
 ex: /user/:user_name -> /user/hoge

 ## License
 licensed under MIT
 */
(function(n){"use strict";n.fn.restForm=function(t){var i=/:((?:\w)+)/g;this.ajaxFormUnbind().on("submit.form-plugin",function(r){var u=this;if(!r.isDefaultPrevented()){r.preventDefault();var f=n(u),e=t.url||f.attr("action"),o=n.extend({},t,{url:e.replace(i,function(n,t){var r=t,i=f.formToArray().filter(function(n){return n.name===r})[0];return i==null?n:i.value}),beforeSubmit:function(r,f,o){var s=e.match(i).map(function(n){return n.replace(i,"$1")});if(r.map(function(n){return s.indexOf(n.name)}).forEach(function(n){r.splice(n,1)}),n.isFunction(t.beforeSubmit)!==!1)return t.beforeSubmit.apply(u,[r,f,o])}});n(this).ajaxSubmit(o)}})}})(jQuery)