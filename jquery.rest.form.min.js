/*!
 jquery rest form plugin
 =======================

 ## About
 jQuery Form PluginをRESTfulなURLに対応させるためのラッパープラグインです。

 ## jQuery Form Plugin
 http://malsup.com/jquery/form/

 ## Required
 * jQuery(Recommende higher version)
 * jQuery Form Plugin

 ## Usage
 urlに[:(param_name)]と入れると該当パラメータに置換します。
 ex: /user/:user_name -> /user/hoge

 ## License
 licensed under MIT
 */
(function(n){"use strict";var t=/:((?:\w)+)/g;n.fn.restForm=function(t){this.ajaxFormUnbind().on("submit.form-plugin",function(i){i.isDefaultPrevented()||(i.preventDefault(),n(this).restSubmit(t))})},n.fn.restSubmit=function(i){var r=this,u=n(r),f=i.url||u.attr("action"),e=n.extend({},i,{url:f.replace(t,function(n,t){var r=t,i=u.formToArray().filter(function(n){return n.name===r})[0];return i==null?n:i.value}),beforeSubmit:function(u,e,o){var s=f.match(t),h;if(s!=null)return(h=s.map(function(n){return n.replace(t,"$1")}),u.filter(function(n){return h.indexOf(n.name)>-1}).forEach(function(n){var t=u.indexOf(n);u.splice(t,1)}),n.isFunction(i.beforeSubmit)===!1)?void 0:i.beforeSubmit.apply(r,[u,e,o])}});n(this).ajaxSubmit(e)}})(jQuery)